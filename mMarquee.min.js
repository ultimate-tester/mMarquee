(function(a){a.fn.mMarquee=function(j){var e=a.extend({pixelsPerFrame:15,frameSpeed:400,freezeOnBlur:false,freezeOnClick:false,freezeOnHover:true},j);var h=true;var i=a(this);var c=i.wrapInner('<div class="mMarquee-Wrapper"></div>').children().first();c.prop("mMarqueeCloneCreated","false");var g=0;c.children().each(function(l,m){var k=a(m);g+=k.outerWidth(true)});c.width(g);i.css("position","relative");i.height(c.height());function d(l){var k=l.clone().appendTo(i);k.prop("mMarqueeCloneCreated","false");k.css("left",(k.width()+parseInt(k.css("left"))));f(k);return k}function f(l){if(typeof l=="undefined"){return}var k=h?e.pixelsPerFrame:0;l.stop().animate({left:"-="+k},{easing:"linear",duration:e.frameDuration,complete:function(){var m=parseInt(l.css("left"));b(l);if(m<=(-l.outerWidth())){l.remove();l=undefined}f(l)}})}function b(l){if(l.prop("mMarqueeCloneCreated")=="false"){var k=parseInt(l.css("left"));if((k-e.pixelsPerFrame)<=(-(l.outerWidth()-i.outerWidth()))){l.prop("mMarqueeCloneCreated","true");b(d(l))}}}i.click(function(){if(e.freezeOnClick){h=!h}});i.mouseover(function(){if(e.freezeOnHover){h=false}});i.mouseout(function(){if(e.freezeOnHover){h=true}});a(window).blur(function(){if(e.freezeOnBlur){h=false}});a(window).focus(function(){if(e.freezeOnBlur){h=true}});b(c);f(c);return c}}(jQuery));