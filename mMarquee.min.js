(function(a){a.fn.mMarquee=function(j){var e=a.extend({pixelsPerFrame:15,frameSpeed:400,freezeOnBlur:false,freezeOnClick:false,freezeOnHover:false},j);var h=true;var i=a(this);var c=i.wrapInner('<div class="mMarquee-Wrapper"></div>').children().first();var g=c.outerWidth();c.prop("mMarqueeCloneCreated","false");i.css("position","relative");i.height(c.outerHeight(true));c.outerWidth(g+1);c.children().css("line-height",i.height()+"px");function d(l){var k=l.clone().appendTo(i);k.prop("mMarqueeCloneCreated","false");k.css("left",parseInt(l.css("left"))+g);f(k);return k}function f(l){if(typeof l=="undefined"){return}var k=h?e.pixelsPerFrame:0;l.stop(true,false).animate({left:"-="+k},{easing:"linear",duration:e.frameDuration,complete:function(){var m=parseInt(l.css("left"));b(l);if(m<=(-g)){l.remove();l=undefined}f(l)}})}function b(l){if(l.prop("mMarqueeCloneCreated")=="false"){var k=parseInt(l.css("left"));if((k-g)<=(-(g-i.outerWidth()))){l.prop("mMarqueeCloneCreated","true");b(d(l))}}}i.click(function(){if(e.freezeOnClick){h=!h}});i.mouseover(function(){if(e.freezeOnHover){h=false}});i.mouseout(function(){if(e.freezeOnHover){h=true}});a(window).blur(function(){if(e.freezeOnBlur){h=false}});a(window).focus(function(){if(e.freezeOnBlur){h=true}});b(c);f(c);return c}}(jQuery));